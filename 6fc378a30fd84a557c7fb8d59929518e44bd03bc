{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "47f2e6c2_f7822093",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 6731
      },
      "writtenOn": "2022-05-25T08:05:49Z",
      "side": 1,
      "message": "I think you can run\n\"tox -e pre-commit\" to fix most formatting issues reported by the CI.\nBut there will still be a few remaining functional tests in failure reported.\n\n\n05:10:11 Failed\n05:10:11 - hook id: autopep8\n05:10:11 - files were modified by this hook\n05:10:11 pre-commit hook(s) made changes.\n05:10:11 If you are seeing this message in CI, reproduce locally with: `pre-commit run --all-files`.\n05:10:11 To run `pre-commit` as part of git workflow, use `pre-commit install`.\n05:10:11 All changes made by hooks:\n05:10:11 diff --git a/tests/sample_configs/openroadm/7.1/oper-XPDRC2.xml b/tests/sample_configs/openroadm/7.1/oper-XPDRC2.xml\n05:10:11 index 466d6c3b..02ee4a01 100644\n05:10:11 --- a/tests/sample_configs/openroadm/7.1/oper-XPDRC2.xml\n05:10:11 +++ b/tests/sample_configs/openroadm/7.1/oper-XPDRC2.xml\n05:10:11 @@ -452,7 +452,7 @@\n05:10:11        \u003ccircuit-pack-type\u003ePlug_Client_100GE\u003c/circuit-pack-type\u003e\n05:10:11        \u003chardware-version\u003ehardware-version\u003c/hardware-version\u003e\n05:10:11        \u003cserial-id\u003eserial-id\u003c/serial-id\u003e\n05:10:11 -    \u003c/circuit-packs\u003e    \n05:10:11 +    \u003c/circuit-packs\u003e\n05:10:11      \u003ccircuit-packs\u003e\n05:10:11        \u003ccircuit-pack-name\u003e1/2/2-PLUG-NET\u003c/circuit-pack-name\u003e\n05:10:11        \u003cproduct-code\u003eproduct-code\u003c/product-code\u003e\n05:10:11 diff --git a/tests/transportpce_tests/7.1/test03_renderer_or_modes.py b/tests/transportpce_tests/7.1/test03_renderer_or_modes.py\n05:10:11 index 6036d3bc..4f988f6a 100644\n05:10:11 --- a/tests/transportpce_tests/7.1/test03_renderer_or_modes.py\n05:10:11 +++ b/tests/transportpce_tests/7.1/test03_renderer_or_modes.py\n05:10:11 @@ -37,7 +37,7 @@ class TransportPCE400GPortMappingTesting(unittest.TestCase):\n05:10:11                             \"port-admin-state\": \"InService\",\n05:10:11                             \"port-oper-state\": \"InService\"}\n05:10:11      CLIENT_CAPABILITIES \u003d [\"org-openroadm-port-types:if-OCH-OTU4-ODU4\",\n05:10:11 -                            \"org-openroadm-port-types:if-100GE\"]\n05:10:11 +                           \"org-openroadm-port-types:if-100GE\"]\n05:10:11      NODE_VERSION \u003d \"7.1\"\n05:10:11  \n05:10:11      @classmethod\n05:10:11 @@ -99,7 +99,7 @@ class TransportPCE400GPortMappingTesting(unittest.TestCase):\n05:10:11                      \"src-tp\": \"XPDR3-CLIENT1\",\n05:10:11                      \"dest-tp\": \"XPDR3-NETWORK1\"\n05:10:11                  },\n05:10:11 -                {\n05:10:11 +                    {\n05:10:11                      \"node-id\": \"XPDR-C2\",\n05:10:11                      \"src-tp\": \"XPDR3-CLIENT1\",\n05:10:11                      \"dest-tp\": \"XPDR3-NETWORK1\"\n05:10:11 @@ -121,35 +121,35 @@ class TransportPCE400GPortMappingTesting(unittest.TestCase):\n05:10:11          self.assertEqual(\n05:10:11              {\"node-id\": a_side,\n05:10:11               \"otu-interface-id\": [\n05:10:11 -               \"XPDR3-NETWORK1-OTUC1\"\n05:10:11 +                 \"XPDR3-NETWORK1-OTUC1\"\n05:10:11               ],\n05:10:11               \"odu-interface-id\": [\n05:10:11 -               \"XPDR3-NETWORK1-ODUC1\",\n05:10:11 -               \"XPDR3-NETWORK1-ODU4\"\n05:10:11 +                 \"XPDR3-NETWORK1-ODUC1\",\n05:10:11 +                 \"XPDR3-NETWORK1-ODU4\"\n05:10:11               ],\n05:10:11               \"och-interface-id\": [\n05:10:11 -               \"XPDR3-NETWORK1-265:272\",\n05:10:11 -               \"XPDR3-NETWORK1-OTSIGROUP-100G\"\n05:10:11 +                 \"XPDR3-NETWORK1-265:272\",\n05:10:11 +                 \"XPDR3-NETWORK1-OTSIGROUP-100G\"\n05:10:11               ],\n05:10:11               \"eth-interface-id\": [\n05:10:11 -               \"XPDR3-CLIENT1-ETHERNET\"\n05:10:11 +                 \"XPDR3-CLIENT1-ETHERNET\"\n05:10:11               ]},\n05:10:11              response[\"output\"][\"node-interface\"][0])\n05:10:11          self.assertEqual(\n05:10:11              {\"node-id\": z_side,\n05:10:11               \"otu-interface-id\": [\n05:10:11 -               \"XPDR3-NETWORK1-OTUC1\"\n05:10:11 +                 \"XPDR3-NETWORK1-OTUC1\"\n05:10:11               ],\n05:10:11               \"odu-interface-id\": [\n05:10:11 -               \"XPDR3-NETWORK1-ODUC1\",\n05:10:11 -               \"XPDR3-NETWORK1-ODU4\"\n05:10:11 +                 \"XPDR3-NETWORK1-ODUC1\",\n05:10:11 +                 \"XPDR3-NETWORK1-ODU4\"\n05:10:11               ],\n05:10:11               \"och-interface-id\": [\n05:10:11 -               \"XPDR3-NETWORK1-265:272\",\n05:10:11 -               \"XPDR3-NETWORK1-OTSIGROUP-100G\"\n05:10:11 +                 \"XPDR3-NETWORK1-265:272\",\n05:10:11 +                 \"XPDR3-NETWORK1-OTSIGROUP-100G\"\n05:10:11               ],\n05:10:11               \"eth-interface-id\": [\n05:10:11 -               \"XPDR3-CLIENT1-ETHERNET\"\n05:10:11 +                 \"XPDR3-CLIENT1-ETHERNET\"\n05:10:11               ]},\n05:10:11              response[\"output\"][\"node-interface\"][1])\n05:10:11  \n05:10:11 @@ -206,12 +206,12 @@ class TransportPCE400GPortMappingTesting(unittest.TestCase):\n05:10:11                          \"type\": \"org-openroadm-interfaces:otsi\",\n05:10:11                          \"supporting-port\": \"L1\"}\n05:10:11          input_dict_2 \u003d {\n05:10:11 -          \"frequency\": 193.00000,\n05:10:11 -          \"otsi-rate\": \"org-openroadm-common-optical-channel-types:R100G-otsi\",\n05:10:11 -          \"fec\": \"org-openroadm-common-types:ofec\",\n05:10:11 -          \"transmit-power\": -5,\n05:10:11 -          \"provision-mode\": \"explicit\",\n05:10:11 -          \"modulation-format\": \"dp-qpsk\"}\n05:10:11 +            \"frequency\": 193.00000,\n05:10:11 +            \"otsi-rate\": \"org-openroadm-common-optical-channel-types:R100G-otsi\",\n05:10:11 +            \"fec\": \"org-openroadm-common-types:ofec\",\n05:10:11 +            \"transmit-power\": -5,\n05:10:11 +            \"provision-mode\": \"explicit\",\n05:10:11 +            \"modulation-format\": \"dp-qpsk\"}\n05:10:11  \n05:10:11          self.assertDictEqual(dict(input_dict_1, **response[\"interface\"][0]),\n05:10:11                               response[\"interface\"][0])\n05:10:11 @@ -258,7 +258,7 @@ class TransportPCE400GPortMappingTesting(unittest.TestCase):\n05:10:11          self.assertDictEqual(dict(input_dict_2,\n05:10:11                                    **response[\"interface\"][0][\"org-openroadm-otsi-group-interfaces:otsi-group\"]),\n05:10:11                               response[\"interface\"][0][\"org-openroadm-otsi-group-interfaces:otsi-group\"])\n05:10:11 -      \n05:10:11 +\n05:10:11      def test_11_check_interface_otuc1(self):\n05:10:11          response \u003d test_utils_rfc8040.check_node_attribute_request(\n05:10:11              \"XPDR-A2\", \"interface\", \"XPDR3-NETWORK1-OTUC1\")\n05:10:11 @@ -453,26 +453,26 @@ class TransportPCE400GPortMappingTesting(unittest.TestCase):\n05:10:11          response \u003d test_utils_rfc8040.transportpce_api_rpc_request(\n05:10:11              \"transportpce-device-renderer\", \"service-path\",\n05:10:11              {\n05:10:11 -              \"service-name\": \"service_100GE_ofec\",\n05:10:11 -              \"wave-number\": \"0\",\n05:10:11 -              \"modulation-format\": \"dp-qpsk\",\n05:10:11 -              \"operation\": \"delete\",\n05:10:11 -              \"nodes\": [{\n05:10:11 -                \"node-id\": \"XPDR-A2\",\n05:10:11 -                \"src-tp\": \"XPDR3-CLIENT1\",\n05:10:11 -                \"dest-tp\": \"XPDR3-NETWORK1\"\n05:10:11 -              },\n05:10:11 -                {\n05:10:11 -                  \"node-id\": \"XPDR-C2\",\n05:10:11 -                  \"src-tp\": \"XPDR3-CLIENT1\",\n05:10:11 -                  \"dest-tp\": \"XPDR3-NETWORK1\"\n05:10:11 +                \"service-name\": \"service_100GE_ofec\",\n05:10:11 +                \"wave-number\": \"0\",\n05:10:11 +                \"modulation-format\": \"dp-qpsk\",\n05:10:11 +                \"operation\": \"delete\",\n05:10:11 +                \"nodes\": [{\n05:10:11 +                    \"node-id\": \"XPDR-A2\",\n05:10:11 +                    \"src-tp\": \"XPDR3-CLIENT1\",\n05:10:11 +                    \"dest-tp\": \"XPDR3-NETWORK1\"\n05:10:11 +                },\n05:10:11 +                    {\n05:10:11 +                    \"node-id\": \"XPDR-C2\",\n05:10:11 +                    \"src-tp\": \"XPDR3-CLIENT1\",\n05:10:11 +                    \"dest-tp\": \"XPDR3-NETWORK1\"\n05:10:11                  }],\n05:10:11 -              \"center-freq\": 193.0,\n05:10:11 -              \"nmc-width\": 37.5,\n05:10:11 -              \"min-freq\": 192.975,\n05:10:11 -              \"max-freq\": 193.025,\n05:10:11 -              \"lower-spectral-slot-number\": 265,\n05:10:11 -              \"higher-spectral-slot-number\": 272,\n05:10:11 +                \"center-freq\": 193.0,\n05:10:11 +                \"nmc-width\": 37.5,\n05:10:11 +                \"min-freq\": 192.975,\n05:10:11 +                \"max-freq\": 193.025,\n05:10:11 +                \"lower-spectral-slot-number\": 265,\n05:10:11 +                \"higher-spectral-slot-number\": 272,\n05:10:11              })\n05:10:11          self.assertEqual(response[\"status_code\"], requests.codes.ok)\n05:10:11          self.assertIn(\"Request processed\", response[\"output\"][\"result\"])\n05:10:11 ERROR: InvocationError for command /w/workspace/transportpce-tox-verify-chlorine/.tox/pre-commit/bin/pre-commit run --all-files --show-diff-on-failure (exited with code 1)\n05:10:11 ERROR: invocation failed (exit code 1)\n05:10:11 ✖ FAIL pre-commit in 24.315 seconds",
      "revId": "6fc378a30fd84a557c7fb8d59929518e44bd03bc",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "168ebd2d_31250488",
        "filename": "tests/sample_configs/openroadm/7.1/oper-XPDRC2.xml",
        "patchSetId": 1
      },
      "lineNbr": 455,
      "author": {
        "id": 6731
      },
      "writtenOn": "2022-05-25T08:05:49Z",
      "side": 1,
      "message": "trailin blanks etc",
      "revId": "6fc378a30fd84a557c7fb8d59929518e44bd03bc",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0bcfdf4d_e07dba8b",
        "filename": "tests/sample_configs/openroadm/7.1/oper-XPDRC2.xml",
        "patchSetId": 1
      },
      "lineNbr": 455,
      "author": {
        "id": 8529
      },
      "writtenOn": "2022-05-25T10:46:56Z",
      "side": 1,
      "message": "Thank Guillaume, I have pushed the change after doing the pre-commit. I don\u0027t know why other tests are failing (may be an issue with the gate). There is no code change in the patch except the addition of new functional test.",
      "parentUuid": "168ebd2d_31250488",
      "revId": "6fc378a30fd84a557c7fb8d59929518e44bd03bc",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "26eb2e19_2198d411",
        "filename": "tests/sample_configs/openroadm/7.1/oper-XPDRC2.xml",
        "patchSetId": 1
      },
      "lineNbr": 455,
      "author": {
        "id": 8529
      },
      "writtenOn": "2022-05-25T10:47:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0bcfdf4d_e07dba8b",
      "revId": "6fc378a30fd84a557c7fb8d59929518e44bd03bc",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    }
  ]
}