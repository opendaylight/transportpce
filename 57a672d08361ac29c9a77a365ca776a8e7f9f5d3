{
  "comments": [
    {
      "key": {
        "uuid": "38d409f6_918ce3ee",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 19,
      "author": {
        "id": 6731
      },
      "writtenOn": "2020-03-18T13:25:13Z",
      "side": 1,
      "message": "OK for restconf but netconf official port is 830, please don\u0027t use 8080 or 8081 they are officialy reserved for alternate HTTP services...",
      "range": {
        "startLine": 19,
        "startChar": 2,
        "endLine": 19,
        "endChar": 16
      },
      "revId": "57a672d08361ac29c9a77a365ca776a8e7f9f5d3",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7ee316e9_c46d1018",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 19,
      "author": {
        "id": 8630
      },
      "writtenOn": "2020-03-18T13:34:32Z",
      "side": 1,
      "message": "1- those ports are using inside docker container and are mapped to another port outside, so I don\u0027t see what\u0027s the problem\n2- if we use 830 as it\u0027s \u003c 1024 we have to run honeynode in the container as root and  it\u0027s not a good practise following docker recommendations.",
      "parentUuid": "38d409f6_918ce3ee",
      "range": {
        "startLine": 19,
        "startChar": 2,
        "endLine": 19,
        "endChar": 16
      },
      "revId": "57a672d08361ac29c9a77a365ca776a8e7f9f5d3",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "92f072d3_b1786e0b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 19,
      "author": {
        "id": 6731
      },
      "writtenOn": "2020-03-18T13:55:16Z",
      "side": 1,
      "message": "The mapping outside is OK.\n\nThe problem is that\n8080 or 8081 are officialy reserved for alternate HTTP services and netconf is transported over SSH...\n\nIf you can\u0027t use 830 inside, in that case, prefer something else such as 1830 or 17830, those ports are not officially reserved or are not usually consumed by a popular service.\n\nAlso are you sure of that ? I\u0027ve not tested but at my sense, you only need to be root inside the container.\nIf not, it\u0027s likely because of the EXPOSE parameter you added but you probably don\u0027t need it since you specify a mapping in the docker run command.\n\nHope this helps",
      "parentUuid": "7ee316e9_c46d1018",
      "range": {
        "startLine": 19,
        "startChar": 2,
        "endLine": 19,
        "endChar": 16
      },
      "revId": "57a672d08361ac29c9a77a365ca776a8e7f9f5d3",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c345d42b_d64ea6f5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 19,
      "author": {
        "id": 8630
      },
      "writtenOn": "2020-03-18T15:18:55Z",
      "side": 1,
      "message": "1. EXPOSE in Dockerfile is just an information for the final user of the image to document which port are available for port mapping on run. \n\n2.Being root in the container is a bad security practise",
      "parentUuid": "92f072d3_b1786e0b",
      "range": {
        "startLine": 19,
        "startChar": 2,
        "endLine": 19,
        "endChar": 16
      },
      "revId": "57a672d08361ac29c9a77a365ca776a8e7f9f5d3",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "036ffc5a_1e820f21",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 19,
      "author": {
        "id": 6731
      },
      "writtenOn": "2020-03-18T16:04:52Z",
      "side": 1,
      "message": "1. yes, that\u0027s what docker (very bad) documentation says\n  and no, you can exploit it at least with \"docker run -P\"\n\n\n2. Yes, workins as root is not recommended as a general security matter, but there are cases where you have no other solution (e.g. privileged ports). That\u0027s why sudo has been created.\n   Logical consequences of this remark would be:\n   - we can\u0027t use privileged standard ports inside a docker internal network\n   - the LFN should review its jenkins security policy.\n   - docker is a bad security practice, ( what I agree since I prefer jails \u003d\u003e Troll +CÃ©dric)\nThis is intended for test purpose and not production use, so I am fine with that risk. Also, this is a pure docker isolation problems, but other implementation that supports Docker file (e.g. k8s) may have a better isolation system.\nIf you really think there is a strict need for security, we can still use non privileged ports as long as there is low risk they are reused by another service ( what is not the case with 8180 and 8080 ).",
      "parentUuid": "c345d42b_d64ea6f5",
      "range": {
        "startLine": 19,
        "startChar": 2,
        "endLine": 19,
        "endChar": 16
      },
      "revId": "57a672d08361ac29c9a77a365ca776a8e7f9f5d3",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": true
    }
  ]
}