{
  "comments": [
    {
      "key": {
        "uuid": "4142b0bd_9f5c2045",
        "filename": "olm/src/main/java/org/opendaylight/transportpce/olm/service/OlmPowerServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 539,
      "author": {
        "id": 6731
      },
      "writtenOn": "2021-10-21T08:49:54Z",
      "side": 1,
      "message": "why should we stop checking XXX.getOtsInterfaceName() is not null ? \u003d\u003e vote -1\nI think this check should be split and integrated into the 2 if-blocks at line 531 and 535.",
      "revId": "0b3847370d43705b740e0abad2e1f6b678a323d8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2e5ae19a_aa86e9be",
        "filename": "olm/src/main/java/org/opendaylight/transportpce/olm/service/OlmPowerServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 539,
      "author": {
        "id": 7446
      },
      "writtenOn": "2021-10-21T11:11:01Z",
      "side": 1,
      "message": "You cannot verify such an otn-interface-name presence on a null object (origin of the NPE described in the bug). The 2 previous if-blocks give srcOtsPmHoler and destOtlPmHoler a second chance not to be null, but do not prevent them from being null...\nHere it is only a simple fix proposal without aiming at changing the spirit of the implementation made by the developer at the origin of this implementation.",
      "parentUuid": "4142b0bd_9f5c2045",
      "revId": "0b3847370d43705b740e0abad2e1f6b678a323d8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b0d816e5_53ca47c4",
        "filename": "olm/src/main/java/org/opendaylight/transportpce/olm/service/OlmPowerServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 539,
      "author": {
        "id": 6731
      },
      "writtenOn": "2021-10-21T12:42:06Z",
      "side": 1,
      "message": "That\u0027s what I have understood but\n- if srcOtsPmHoler or destOtsPmHoler is not null, why XXX.getOtsInterfaceName() should not be null ? Please elaborate a little more the commit message if so\n- if getPmMeasurements(sourceNodeId, sourceTpId, \"OpticalPowerOutput\") is already not null, why testing srcOtsPmHoler nullness a second time?\n- if it is null and if getPmMeasurements(sourceNodeId, sourceTpId, \"OpticalPowerOutputOSC\") is also null, why retrieving getPmMeasurements(destNodeId, destTpId, \"OpticalPowerInput\") ?",
      "parentUuid": "2e5ae19a_aa86e9be",
      "revId": "0b3847370d43705b740e0abad2e1f6b678a323d8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1b817d4e_c32a2ff7",
        "filename": "olm/src/main/java/org/opendaylight/transportpce/olm/service/OlmPowerServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 539,
      "author": {
        "id": 7446
      },
      "writtenOn": "2021-10-21T13:25:39Z",
      "side": 1,
      "message": "The issue is not for a \"normal\" or \"nominal\" case where nothing is null, but when at list one (srcOtsPmHoler or destOtsPmHoler) is null. From the moment one is null we can no longer continue.\nI think the change fix that!",
      "parentUuid": "b0d816e5_53ca47c4",
      "revId": "0b3847370d43705b740e0abad2e1f6b678a323d8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3fc90bd4_39eba0c5",
        "filename": "olm/src/main/java/org/opendaylight/transportpce/olm/service/OlmPowerServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 539,
      "author": {
        "id": 7446
      },
      "writtenOn": "2021-10-21T13:33:17Z",
      "side": 1,
      "message": "With the current version of the code, it\u0027s impossible to have stcOtsPmHoler not null with a .getOtsInterfaceName null...",
      "parentUuid": "1b817d4e_c32a2ff7",
      "revId": "0b3847370d43705b740e0abad2e1f6b678a323d8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9abf5be3_bd07004d",
        "filename": "olm/src/main/java/org/opendaylight/transportpce/olm/service/OlmPowerServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 539,
      "author": {
        "id": 6731
      },
      "writtenOn": "2021-10-21T13:37:33Z",
      "side": 1,
      "message": "Let\u0027s turn it differently.\nWhat about this rather?\n\n            if (srcOtsPmHoler \u003d\u003d null) {\n                srcOtsPmHoler \u003d getPmMeasurements(sourceNodeId, sourceTpId, \"OpticalPowerOutputOSC\");\n                if (srcOtsPmHoler \u003d\u003d null) {\n                    LOG.warn(\"OTS is not present for the link {}\", link);\n                    continue;\n                }\n            }\n            OtsPmHolder destOtsPmHoler \u003d getPmMeasurements(destNodeId, destTpId, \"OpticalPowerInput\");\n            if (destOtsPmHoler \u003d\u003d null) {\n                destOtsPmHoler \u003d getPmMeasurements(destNodeId, destTpId, \"OpticalPowerInputOSC\");\n                if (destOtsPmHoler \u003d\u003d null) {\n                    LOG.warn(\"OTS is not present for the link {}\", link);\n                    continue;\n                }\n            }\n            if (srcOtsPmHoler.getOtsInterfaceName() \u003d\u003d null || destOtsPmHoler.getOtsInterfaceName() \u003d\u003d null) {\n                LOG.warn(\"OTS is not present for the link {}\", link);\n                continue;\n            }",
      "parentUuid": "1b817d4e_c32a2ff7",
      "revId": "0b3847370d43705b740e0abad2e1f6b678a323d8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "15df4a3b_6c473770",
        "filename": "olm/src/main/java/org/opendaylight/transportpce/olm/service/OlmPowerServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 539,
      "author": {
        "id": 7446
      },
      "writtenOn": "2021-10-21T13:42:53Z",
      "side": 1,
      "message": "you can remove the third if block which is a dead code.",
      "parentUuid": "9abf5be3_bd07004d",
      "revId": "0b3847370d43705b740e0abad2e1f6b678a323d8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f9c8b9ea_b8a4366a",
        "filename": "olm/src/main/java/org/opendaylight/transportpce/olm/service/OlmPowerServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 539,
      "author": {
        "id": 8358
      },
      "writtenOn": "2021-10-21T15:12:18Z",
      "side": 1,
      "message": "Note that I reported the original bug almost two years ago and the implementation has changed since then, see e.g.: https://git.opendaylight.org/gerrit/c/transportpce/+/88554.",
      "parentUuid": "15df4a3b_6c473770",
      "revId": "0b3847370d43705b740e0abad2e1f6b678a323d8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0bccf66c_9fb970e9",
        "filename": "olm/src/main/java/org/opendaylight/transportpce/olm/service/OlmPowerServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 539,
      "author": {
        "id": 7446
      },
      "writtenOn": "2021-10-21T15:19:56Z",
      "side": 1,
      "message": "Yes indeed. Since the ticket was always open in our backlog, and the bug still present, it was hight time to solve it.\nThank you Jonas for having reported it.",
      "parentUuid": "f9c8b9ea_b8a4366a",
      "revId": "0b3847370d43705b740e0abad2e1f6b678a323d8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": true
    }
  ]
}