{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "9d98f87f_20612d74",
        "filename": "renderer/src/main/java/org/opendaylight/transportpce/renderer/openroadminterface/OpenRoadmInterface710.java",
        "patchSetId": 3
      },
      "lineNbr": 1110,
      "author": {
        "id": 6731
      },
      "writtenOn": "2022-05-19T17:40:35Z",
      "side": 1,
      "message": "(spectrumInformation.getHigherSpectralSlotNumber()                     - spectrumInformation.getLowerSpectralSlotNumber() + 1) * GridConstant.GRANULARITY) is used twice and would probably better be in a variable\n\nvery similar to DpQam16.\n\nonly returned GBaud rate  changed.\na fallthrough with a a map would be preferable IMO",
      "revId": "0393826e8b3a3295cc623c1ba697786c8139178a",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "50da0c3f_8713f4c3",
        "filename": "renderer/src/main/java/org/opendaylight/transportpce/renderer/openroadminterface/OpenRoadmInterface710.java",
        "patchSetId": 3
      },
      "lineNbr": 1110,
      "author": {
        "id": 8529
      },
      "writtenOn": "2022-05-23T18:35:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9d98f87f_20612d74",
      "revId": "0393826e8b3a3295cc623c1ba697786c8139178a",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bf85d2ee_4cbbb656",
        "filename": "renderer/src/main/java/org/opendaylight/transportpce/renderer/openroadminterface/OpenRoadmInterface710.java",
        "patchSetId": 3
      },
      "lineNbr": 1110,
      "author": {
        "id": 6731
      },
      "writtenOn": "2022-05-24T08:08:45Z",
      "side": 1,
      "message": "I reopen the comment\nthe spectralWidth variable absence issue is fixed but there is still the DpQam16/DpQpsk code duplication issue.\nHaving the spectralWidth declaration out of the switch/case block makes this variable computed in the DpQam8 case, which is useless.\nHaving a fallthrough (with a Map to deal with GBaud rate returned) allows to reintegrate this variable declaration in the switch/case block and avoids to compute it in the DpQam8 case.",
      "parentUuid": "50da0c3f_8713f4c3",
      "revId": "0393826e8b3a3295cc623c1ba697786c8139178a",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "10e69302_7e68e95c",
        "filename": "renderer/src/main/java/org/opendaylight/transportpce/renderer/openroadminterface/OpenRoadmInterface710.java",
        "patchSetId": 3
      },
      "lineNbr": 1110,
      "author": {
        "id": 8529
      },
      "writtenOn": "2022-05-26T11:56:35Z",
      "side": 1,
      "message": "Sorry Guillaume, I don\u0027t understand your comment here. We are using the spectralWidth value only at DpQpsk and DpQam16. For each of these two modulation formats two rates are possible depending on the spectralWidth.",
      "parentUuid": "bf85d2ee_4cbbb656",
      "revId": "0393826e8b3a3295cc623c1ba697786c8139178a",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "00e6ccd2_64ae54ee",
        "filename": "renderer/src/main/java/org/opendaylight/transportpce/renderer/openroadminterface/OpenRoadmInterface710.java",
        "patchSetId": 3
      },
      "lineNbr": 1110,
      "author": {
        "id": 6731
      },
      "writtenOn": "2022-05-27T05:12:33Z",
      "side": 1,
      "message": "OK if so let\u0027s initiate something below. Is it more clear like that ?\n\nMap\u003cModulation Format, Integer\u003e rate1 \u003d Map.of(DpQpsk , 100, DpQam16 , 200);\nMap\u003cModulation Format, Integer\u003e rate2 \u003d Map.of(DpQpsk , 200, DpQam16 , 400);\n\n        switch (modulationFormat) {\n            case DpQpsk:\n            case DpQam16:\n                // DpQpsk and DpQam16 are possible for both 31.6 or 63.1 GBaud, for which spectral width is different\n                // Here take the difference of highest and lowest spectral numbers and determine the width\n               double spectralWidth \u003d (spectrumInformation.getHigherSpectralSlotNumber()\n            - spectrumInformation.getLowerSpectralSlotNumber() + 1) * GridConstant.GRANULARITY;\n                LOG.info(\"The width with guard band {}\", spectralWidth);\n                if (spectralWidth \u003d\u003d 50.0) {\n                    // Based on roll-of-factor of 0.2, 50 - 12.5 \u003d 37.5GHz translates to 31.6 GBaud\n                    LOG.info(\"The baud-rate is 31.6 GBaud\");\n                    LOG.info(\"Given modulation format {} with 31.6 Gbaud rate is {}G\", modulationFormat, rate1.get(modulationFormat));\n                    return rate1.get(modulationFormat);\n                } else {\n                    // Based on roll-of-factor of 0.2, 87.5 - 12.5 \u003d 75GHz translates to 63.1 GBaud\n                    LOG.info(\"The baud-rate is 63.1 GBaud\");\n                    return rate2.get(modulationFormat);\n                }\n            case DpQam8:\n                LOG.info(\"Given modulation format is {} and thus rate is 300G\", modulationFormat);\n                return 300;\n            default:\n                LOG.error(\"Modulation format is required to select the rate\");\n                break;\n        }",
      "parentUuid": "10e69302_7e68e95c",
      "revId": "0393826e8b3a3295cc623c1ba697786c8139178a",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0ee0e37f_045eb11d",
        "filename": "renderer/src/main/java/org/opendaylight/transportpce/renderer/openroadminterface/OpenRoadmInterface710.java",
        "patchSetId": 3
      },
      "lineNbr": 1110,
      "author": {
        "id": 6731
      },
      "writtenOn": "2022-05-28T14:55:33Z",
      "side": 1,
      "message": "I addressed it in a separate change.\nhttps://git.opendaylight.org/gerrit/c/transportpce/+/101318/1",
      "parentUuid": "00e6ccd2_64ae54ee",
      "revId": "0393826e8b3a3295cc623c1ba697786c8139178a",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    }
  ]
}