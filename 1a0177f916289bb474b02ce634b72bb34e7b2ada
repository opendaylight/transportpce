{
  "pushCert": "certificate version 0.1\npusher 5FBDF9B9314FAD71 1764083198 +0100\npushee ssh://git.opendaylight.org:29418/transportpce\nnonce 1764083198-625D7868C53EA5D5CF20B9E2C916FE8DCB8CAA70\n\n0000000000000000000000000000000000000000 cf8851a563160ee2aab22dcf5e81402158c2b416 refs/for/master\n-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEIKU9c2lqXpTzMWXlX735uTFPrXEFAmklxf4ACgkQX735uTFP\nrXGlqg/+NZKRUw+9SrqCxq1IxZ9wylZdZzxKcSr79LU5Ywq2lTuR5SxIBmcVTR+e\nrwNvLLDe0QPVZcYndZJH9aO4mrsE5FWelZX6pl/msP2A+pckP7EA+EepMIPXUV0e\nAkq4Jl/pve945ywLWdpULPBXracj7sOHd0WxDD3GW2xafSqA6iK90nsXRZL/+6WQ\n393OBHQQMN35gOue2j6LSvtcF64pnZZphQEUrTlW1rzwX6FaL96EAkoKTmZdpC7Y\nXADk+vfQBYGERwrPeFtmRazVvfZ2/4uXsHuYdy8g1R7+BxlPBFNLSkKazkszLSpu\nAGs2ezEOvSbH4XZfTKEeDYbsNQc9oypf05wrxFB2DuiLEBzPtLZkyt9aqegeDZ69\n/NjWLtPXnqxpNyw3It8jxyqPmqQAvhhKcWdbjknV7AQzWwpBn1v8FHcuXxBJAv7E\nHNK44HURG5CwuQPOGnOha8yxmPYR2KAo53noTOnHE4fpGruDdduEy4LXUwzUsplW\nY5sz5aJiiomhzJv+D4PEJnWWVMUdXAJ+W15A4Q+wb8k3K42EsApnkGcykE1+2gTn\n11eAgnD+WyxTLV0ueG9vwDZ5h0dldvnCNRTxiVskCgZrCxbULhOs3vEo2biWB3GJ\nRB1zwWa79IT1+0fJTLOe0zP0CcT4UIEEm+/oRSjo3SfXJEsYKdE\u003d\n\u003dKfrX\n-----END PGP SIGNATURE-----\n",
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "3f46546a_ed1a5d38",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 9231
      },
      "writtenOn": "2025-11-25T18:53:24Z",
      "side": 1,
      "message": "recheck",
      "revId": "1a0177f916289bb474b02ce634b72bb34e7b2ada",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "343f3893_083c2158",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 9387
      },
      "writtenOn": "2025-12-02T13:18:05Z",
      "side": 1,
      "message": "Looks ok!\nI had some comments for readability improvements.",
      "revId": "1a0177f916289bb474b02ce634b72bb34e7b2ada",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "20017bd2_fdc29a25",
        "filename": "tapi/src/main/java/org/opendaylight/transportpce/tapi/topology/ORtoTapiTopoConversionTools.java",
        "patchSetId": 1
      },
      "lineNbr": 1296,
      "author": {
        "id": 9387
      },
      "writtenOn": "2025-12-02T13:18:05Z",
      "side": 1,
      "message": "Proposing to refactor to:\n\n```\npublic Map\u003cFrequency, Frequency\u003e getPP11AvailableFrequencies(\n            org.opendaylight.yang.gen.v1.http.org.openroadm.network.topology.rev250110.TerminationPoint1 tp) {\n        SortedRange sortedRange \u003d new SortedRange();\n\n        if (!hasCband(tp)) {\n            return new HashMap\u003c\u003e();\n        }\n\n        sortedRange.add(new SortedRange(getRanges(tp.getPpAttributes().getAvailFreqMaps())));\n\n        return sortedRange.ranges();\n    }\n\n    private static boolean hasCband(org.opendaylight.yang.gen.v1.http.org.openroadm.network.topology.rev250110.TerminationPoint1 tp) {\n        return tp !\u003d null\n        \u0026\u0026 tp.getPpAttributes().getAvailFreqMaps() !\u003d null\n        \u0026\u0026 tp.getPpAttributes().getAvailFreqMaps().keySet().toString().contains(GridConstant.C_BAND);\n    }\n\n    private Map\u003cDouble, Double\u003e getRanges(Map\u003cAvailFreqMapsKey, AvailFreqMaps\u003e avlFreqMaps) {\n        byte[] freqByteSet \u003d new byte[GridConstant.NB_OCTECTS];\n\n        AvailFreqMapsKey availFreqMapsKey \u003d new AvailFreqMapsKey(GridConstant.C_BAND);\n        freqByteSet \u003d Arrays.copyOf(avlFreqMaps.entrySet().stream()\n                .filter(afm -\u003e afm.getKey().equals(availFreqMapsKey))\n                .findFirst().orElseThrow().getValue().getFreqMap(), freqByteSet.length);\n        LOG.debug(\"Available frequency byte set: {}\", freqByteSet);\n\n        Map\u003cDouble, Double\u003e ranges \u003d numericFrequency.availableFrequency(new AvailableGrid(freqByteSet));\n        LOG.debug(\"Available frequency ranges: {}\", ranges);\n        return ranges;\n    }\n```",
      "range": {
        "startLine": 1267,
        "startChar": 4,
        "endLine": 1296,
        "endChar": 5
      },
      "revId": "1a0177f916289bb474b02ce634b72bb34e7b2ada",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d1c9a065_f85c63a4",
        "filename": "tapi/src/main/java/org/opendaylight/transportpce/tapi/topology/ORtoTapiTopoConversionTools.java",
        "patchSetId": 1
      },
      "lineNbr": 1296,
      "author": {
        "id": 9231
      },
      "writtenOn": "2025-12-05T15:29:56Z",
      "side": 1,
      "message": "IntelliJ has an issue with `tp.getPpAttributes().getAvailFreqMaps()` in `getPP11AvailableFrequencies()`. It believes there is a NPE trap. At first I though adding `\u0026\u0026 tp.getPpAttributes() !\u003d null` in the `hasCband()` method would help, but it didn\u0027t.\n\nI believe the problem stems from nullability checks not always crossing method calls. Doing a `Objects.requireNonNull()` or something similar would work, but that reduces the benefit of `hasCband()` as a null-guard. The `null`-checks probably need to be more up front. \n\nAlso...\n\n1. there is a rather strong dependency between hasBand and getRanges, both use `GridConstant.C_BAND`, however the constant is used independently. I\u0027m thinking this constant should probably not be used independently.\n2. The stream/filter seems somewhat convoluted as well. I\u0027d like to get rid of it. I just copied from another method without giving it much thought, to be honest.\n3. The use of SortedRange could also be simplified, now that I\u0027m giving the method a closer look.\n\nAnyway, I\u0027ve taken you input and refactored the code, trying to stay clear of any NULL-warnings in IntelliJ in the process.",
      "parentUuid": "20017bd2_fdc29a25",
      "range": {
        "startLine": 1267,
        "startChar": 4,
        "endLine": 1296,
        "endChar": 5
      },
      "revId": "1a0177f916289bb474b02ce634b72bb34e7b2ada",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e9785dea_cd3540a4",
        "filename": "tapi/src/main/java/org/opendaylight/transportpce/tapi/topology/TapiNetworkModelServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 2008,
      "author": {
        "id": 9387
      },
      "writtenOn": "2025-12-02T13:18:05Z",
      "side": 1,
      "message": "This seems like a generation of a string key.\nThis should be handled the same way everywhere. I think it is not only this place in the entire code this is done? I think we should make a method and use this method everywhere where this is done?",
      "revId": "1a0177f916289bb474b02ce634b72bb34e7b2ada",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cafcb73b_57359bd0",
        "filename": "tapi/src/main/java/org/opendaylight/transportpce/tapi/topology/TapiNetworkModelServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 2008,
      "author": {
        "id": 9231
      },
      "writtenOn": "2025-12-05T15:29:56Z",
      "side": 1,
      "message": "I like the idea. I searched for the string `.split(\"-\")[0]` and at a glance it appeared the same logic pops up elsewhere in the project. I didn\u0027t do a full analysis though.\n\nAnyway, I took a stab at it in this commit:\nhttps://git.opendaylight.org/gerrit/c/transportpce/+/119656/1",
      "parentUuid": "e9785dea_cd3540a4",
      "revId": "1a0177f916289bb474b02ce634b72bb34e7b2ada",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7921fc0e_acc4cfbb",
        "filename": "tapi/src/main/java/org/opendaylight/transportpce/tapi/topology/TapiNetworkModelServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 2021,
      "author": {
        "id": 9387
      },
      "writtenOn": "2025-12-02T13:18:05Z",
      "side": 1,
      "message": "Suggest renaming:\n```\nnetworkTerminationPoint11FromDatastore -\u003e tp\ngetNetworkTerminationPoint11FromDatastore -\u003e getTpFromStore\n```\nFor easier to read code.",
      "range": {
        "startLine": 2015,
        "startChar": 22,
        "endLine": 2021,
        "endChar": 105
      },
      "revId": "1a0177f916289bb474b02ce634b72bb34e7b2ada",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "99df0e5d_241fe9d6",
        "filename": "tapi/src/main/java/org/opendaylight/transportpce/tapi/topology/TapiNetworkModelServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 2021,
      "author": {
        "id": 9231
      },
      "writtenOn": "2025-12-05T15:29:56Z",
      "side": 1,
      "message": "I kinda took the liberty of going full-on bananas and refactored the entire method into something I think is a lot more readable.\n\nhttps://git.opendaylight.org/gerrit/c/transportpce/+/119654/2",
      "parentUuid": "7921fc0e_acc4cfbb",
      "range": {
        "startLine": 2015,
        "startChar": 22,
        "endLine": 2021,
        "endChar": 105
      },
      "revId": "1a0177f916289bb474b02ce634b72bb34e7b2ada",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c1e0d4ab_bb739ff1",
        "filename": "tapi/src/test/java/org/opendaylight/transportpce/tapi/topology/TapiNetworkModelServiceImplTest.java",
        "patchSetId": 1
      },
      "lineNbr": 236,
      "author": {
        "id": 9387
      },
      "writtenOn": "2025-12-02T13:18:05Z",
      "side": 1,
      "message": "Very nice comments in the test. Easy to follow!",
      "range": {
        "startLine": 236,
        "startChar": 0,
        "endLine": 236,
        "endChar": 5
      },
      "revId": "1a0177f916289bb474b02ce634b72bb34e7b2ada",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "171899ec_d102c18d",
        "filename": "tapi/src/test/java/org/opendaylight/transportpce/tapi/topology/TapiNetworkModelServiceImplTest.java",
        "patchSetId": 1
      },
      "lineNbr": 236,
      "author": {
        "id": 9231
      },
      "writtenOn": "2025-12-05T15:29:56Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "c1e0d4ab_bb739ff1",
      "range": {
        "startLine": 236,
        "startChar": 0,
        "endLine": 236,
        "endChar": 5
      },
      "revId": "1a0177f916289bb474b02ce634b72bb34e7b2ada",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    }
  ]
}