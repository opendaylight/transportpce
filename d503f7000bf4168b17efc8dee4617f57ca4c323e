{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "3572cd20_9e7da84f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 6731
      },
      "writtenOn": "2022-01-31T09:27:35Z",
      "side": 1,
      "message": "I agree with Gilles\u0027comments.\n\nAlso OLM 1.2.1 and 2.21 func tests are in failure\nFAIL: test_19_service_power_setup_XPDRA_XPDRC (test05_olm.TransportOlmTesting)\nFAIL: test_19_service_power_setup_XPDRA_XPDRC (test09_olm.TransportOlmTesting)",
      "revId": "d503f7000bf4168b17efc8dee4617f57ca4c323e",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9dc12741_c1284fcc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 7217
      },
      "writtenOn": "2022-01-31T14:54:03Z",
      "side": 1,
      "message": "Hi, \nPropose to make a little adjustment of the final power calculation for channels that have a spacing greater than 50 GHz to be compliant with OR specs. I am fine with your implementation of the power mask. Thanks",
      "revId": "d503f7000bf4168b17efc8dee4617f57ca4c323e",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b82928c3_097a4d7a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 8529
      },
      "writtenOn": "2022-02-01T09:31:18Z",
      "side": 1,
      "message": "I fixed the test cases. With the new-power mask, power values needed to be changed for given span-loss",
      "parentUuid": "3572cd20_9e7da84f",
      "revId": "d503f7000bf4168b17efc8dee4617f57ca4c323e",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6deda59b_6c5eb378",
        "filename": "api/src/main/yang/service_path/transportpce-device-renderer@2021-10-04.yang",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 7446
      },
      "writtenOn": "2022-01-31T09:02:59Z",
      "side": 1,
      "message": "We should avoid, as much as possible, fixing the revision of yang models to use, in order to use, per default, the latest revision and to help future migrations of models.\nFor the moment, in TransportPCE we manage a single revision of transportpce-common-types. So, this line is not necesary.",
      "range": {
        "startLine": 7,
        "startChar": 4,
        "endLine": 7,
        "endChar": 29
      },
      "revId": "d503f7000bf4168b17efc8dee4617f57ca4c323e",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9358d48e_de9c99a0",
        "filename": "api/src/main/yang/service_path/transportpce-device-renderer@2021-10-04.yang",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 8529
      },
      "writtenOn": "2022-02-01T09:31:38Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "6deda59b_6c5eb378",
      "range": {
        "startLine": 7,
        "startChar": 4,
        "endLine": 7,
        "endChar": 29
      },
      "revId": "d503f7000bf4168b17efc8dee4617f57ca4c323e",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "43cc4159_b0a84b57",
        "filename": "api/src/main/yang/service_path/transportpce-device-renderer@2021-10-04.yang",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 6731
      },
      "writtenOn": "2022-02-01T09:41:47Z",
      "side": 1,
      "message": "nope\n\nif this is really needed, please don\u0027t close comments and explain why it is absolutely required.",
      "parentUuid": "9358d48e_de9c99a0",
      "range": {
        "startLine": 7,
        "startChar": 4,
        "endLine": 7,
        "endChar": 29
      },
      "revId": "d503f7000bf4168b17efc8dee4617f57ca4c323e",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8878f824_363ea133",
        "filename": "api/src/main/yang/service_path/transportpce-device-renderer@2021-10-04.yang",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 8529
      },
      "writtenOn": "2022-02-01T09:54:18Z",
      "side": 1,
      "message": "Sorry, I didn\u0027t mean to close the comments. I as ack the fact that this is not needed and wanted to fix the code and push according to the comments.",
      "parentUuid": "43cc4159_b0a84b57",
      "range": {
        "startLine": 7,
        "startChar": 4,
        "endLine": 7,
        "endChar": 29
      },
      "revId": "d503f7000bf4168b17efc8dee4617f57ca4c323e",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "85eeb435_98d31878",
        "filename": "api/src/main/yang/service_path/transportpce-device-renderer@2021-10-04.yang",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 6731
      },
      "writtenOn": "2022-02-02T08:11:07Z",
      "side": 1,
      "message": "OK thank you for this feedback.\nI think it can be closed now",
      "parentUuid": "8878f824_363ea133",
      "range": {
        "startLine": 7,
        "startChar": 4,
        "endLine": 7,
        "endChar": 29
      },
      "revId": "d503f7000bf4168b17efc8dee4617f57ca4c323e",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e35ae816_3b84f695",
        "filename": "api/src/main/yang/service_path/transportpce-renderer@2021-09-15.yang",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 7446
      },
      "writtenOn": "2022-01-31T09:02:59Z",
      "side": 1,
      "message": "idem previous comment",
      "range": {
        "startLine": 19,
        "startChar": 6,
        "endLine": 19,
        "endChar": 31
      },
      "revId": "d503f7000bf4168b17efc8dee4617f57ca4c323e",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b2522e28_55cb9fbb",
        "filename": "api/src/main/yang/service_path/transportpce-renderer@2021-09-15.yang",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 8529
      },
      "writtenOn": "2022-02-01T09:31:38Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "e35ae816_3b84f695",
      "range": {
        "startLine": 19,
        "startChar": 6,
        "endLine": 19,
        "endChar": 31
      },
      "revId": "d503f7000bf4168b17efc8dee4617f57ca4c323e",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9dd4dd1b_fd058927",
        "filename": "api/src/main/yang/transportpce-olm@2021-06-18.yang",
        "patchSetId": 2
      },
      "lineNbr": 8,
      "author": {
        "id": 7446
      },
      "writtenOn": "2022-01-31T09:02:59Z",
      "side": 1,
      "message": "idem previous comment",
      "range": {
        "startLine": 8,
        "startChar": 4,
        "endLine": 8,
        "endChar": 29
      },
      "revId": "d503f7000bf4168b17efc8dee4617f57ca4c323e",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "44b55f4d_ef5bb876",
        "filename": "api/src/main/yang/transportpce-olm@2021-06-18.yang",
        "patchSetId": 2
      },
      "lineNbr": 8,
      "author": {
        "id": 8529
      },
      "writtenOn": "2022-02-01T09:31:38Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "9dd4dd1b_fd058927",
      "range": {
        "startLine": 8,
        "startChar": 4,
        "endLine": 8,
        "endChar": 29
      },
      "revId": "d503f7000bf4168b17efc8dee4617f57ca4c323e",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7037d23f_87e427c8",
        "filename": "olm/src/main/java/org/opendaylight/transportpce/olm/power/PowerMgmtImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 392,
      "author": {
        "id": 7217
      },
      "writtenOn": "2022-01-31T14:54:03Z",
      "side": 1,
      "message": "As I understand the specification (constant power spectral density defined according to the grid : spacing of the channels), if you add to the power of a channel defined with 50GHz spacing,  3dB, it means you are considering a channel with a 100GHz MC width, not 80. 80 GHz channel spacing is not defined in openROADM for which the grid is a multiple of 12.5 GHz. At that time we don\u0027t have OR transponder modes with a 100GHz MC. It could however correspond to baud rate higher than 63 Gbaud in the case we use specific Operational modes. Maybe we could do something generic, always considering the MC width, rounding it up to make it compliant with the grid that shall be a multiple of 12.5 GHz slots, and apply always the same calculation as you did it for 87.5 GHz in the lines below",
      "range": {
        "startLine": 392,
        "startChar": 0,
        "endLine": 392,
        "endChar": 78
      },
      "revId": "d503f7000bf4168b17efc8dee4617f57ca4c323e",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "12e18712_e9621bac",
        "filename": "olm/src/main/java/org/opendaylight/transportpce/olm/power/PowerMgmtImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 392,
      "author": {
        "id": 8529
      },
      "writtenOn": "2022-02-01T09:52:10Z",
      "side": 1,
      "message": "Sure Olivier we can discuss this. From your comment, what I understand is if, we pick a mc-width outside the grid granularity, we round it to nearest value of the grid. For instance 80 GHz of mc-width would be rounded to ceil(80/12.5) \u003d ceil(6.4). And we still take the constant psd meaning, we take Pin + 10*log(MC/50). Let me know if there is I interpreted our comment correctly or not.",
      "parentUuid": "7037d23f_87e427c8",
      "range": {
        "startLine": 392,
        "startChar": 0,
        "endLine": 392,
        "endChar": 78
      },
      "revId": "d503f7000bf4168b17efc8dee4617f57ca4c323e",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1fa5f45c_8364ef51",
        "filename": "olm/src/main/java/org/opendaylight/transportpce/olm/power/PowerMgmtImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 392,
      "author": {
        "id": 7217
      },
      "writtenOn": "2022-02-01T10:23:56Z",
      "side": 1,
      "message": "Hi Bala. yes, we are in line! Thanks",
      "parentUuid": "12e18712_e9621bac",
      "range": {
        "startLine": 392,
        "startChar": 0,
        "endLine": 392,
        "endChar": 78
      },
      "revId": "d503f7000bf4168b17efc8dee4617f57ca4c323e",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "db6ecb09_d029ff6f",
        "filename": "olm/src/main/java/org/opendaylight/transportpce/olm/power/PowerMgmtImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 392,
      "author": {
        "id": 8358
      },
      "writtenOn": "2022-02-01T22:06:27Z",
      "side": 1,
      "message": "If I read the PCE and renderer code correctly, McWidth will always be either 50 GHz or 87.5 GHz. The WIDTH_80 here remains from an old patch, https://git.opendaylight.org/gerrit/c/transportpce/+/94560, which made the power depend on NMC width instead of MC width. See also discussion on patch https://git.opendaylight.org/gerrit/c/transportpce/+/96193, which changed it back to MC width to be compliant with the MSA spec. I think it could be a good idea to generalize support to \"non-standard\" modes with other baud rates but maybe the mapping to MC width should be done somewhere else.",
      "parentUuid": "1fa5f45c_8364ef51",
      "range": {
        "startLine": 392,
        "startChar": 0,
        "endLine": 392,
        "endChar": 78
      },
      "revId": "d503f7000bf4168b17efc8dee4617f57ca4c323e",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a47b41f3_d4add1ee",
        "filename": "olm/src/main/java/org/opendaylight/transportpce/olm/power/PowerMgmtImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 392,
      "author": {
        "id": 8529
      },
      "writtenOn": "2022-02-02T03:11:54Z",
      "side": 1,
      "message": "I agree, but it may require overhaul of OLM?",
      "parentUuid": "db6ecb09_d029ff6f",
      "range": {
        "startLine": 392,
        "startChar": 0,
        "endLine": 392,
        "endChar": 78
      },
      "revId": "d503f7000bf4168b17efc8dee4617f57ca4c323e",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    }
  ]
}